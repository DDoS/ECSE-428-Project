extends ../layout

block content


    script.
        function auto_grow(element) {
            if (element.scrollHeight > 50) {
                element.style.height = "auto";
                element.style.height = (element.scrollHeight + 15) + "px";
            }
        }

    .page-header
        h3 View Questions


    //mixin pagination(start, numPages, curr, base)
    //    ul.pagination
    //        - var n = start
    //        while n < start + numPages
    //            if n == curr
    //                li.active
    //                    a(href='#{base}?page=#{n}') #{n}
    //            else
    //                li
    //                    a(href='#{base}?page=#{n}') #{n}
    //            - n++

    mixin pagination(curr, base)
          ul.pagination
              if curr == 1
                  li.disabled
                      a Prev
              else
                  li
                      a(href='#{base}?page=#{curr - 1}') Prev

              if hasNextPage
                  li
                      a(href='#{base}?page=#{curr + 1}') Next
              else
                  li.disabled
                      a Next


    if questions
        if questions.length == 0
            .form-group
                p
                | No question found
        else
            .form-group
                each question in questions
                    .form-group
                        .row
                            .col-md-12
                                h2
                                    a.btn-link(id="question_#{question.id}",href="/questions/view/?q=#{question.id}") #{question.title}
                                p
                                    | #{question.text}

                                i(style="font-size: smaller;")
                                    | #{question.date}, By #{question.submitter}

                    .form-group
                        .row
                            .btn-group-sm
                                .col-md-6
                                    button.btn.btn-sm.btn-primary.col-sm-5(type='button')
                                        i.fa.fa-label.fa-thumbs-up
                                        | Up Vote
                                        span.badge.pull-right #{question.upVoteCount}
                                        button.btn.btn-sm.btn-danger.col-sm-5(type='button')
                                            i.fa.fa-label.fa-thumbs-down
                                            | Down Vote
                                            span.badge.pull-right #{question.downVoteCount}

    .form-group
        +pagination(currPage,"/questions/find/")


